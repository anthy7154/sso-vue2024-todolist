import{u as h,r,c as n,a as o,w as c,v as d,b as u,d as w,e as f,f as v,o as l}from"./index-pK_1o7pe.js";import{u as b,a as C}from"./todoListStore-BwpfwVUn.js";const k={id:"loginPage",class:"bg-yellow"},x={class:"conatiner loginPage vhContainer"},y=o("div",{class:"side"},[o("a",{href:"#"},[o("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),o("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1),L={class:"formControls",action:"#"},V=o("h2",{class:"formControls_txt"},"最實用的線上代辦事項服務",-1),I=o("label",{class:"formControls_label",for:"email"},"Email",-1),S={key:0},T=o("label",{class:"formControls_label",for:"pwd"},"密碼",-1),D={key:1},R=o("a",{class:"formControls_btnLink"},"註冊帳號",-1),q={__name:"LoginView",setup($){const m=h(),p=b().api,e=r({email:"",password:""}),i=r(""),_=async()=>{try{const s=await C.post(`${p}/users/sign_in`,e.value);i.value="登入成功";const t=new Date;t.setDate(t.getDate()+1),document.cookie=`hexschoolTodo=${s.data.token}; expires=${t.toUTCString()}`,alert(i.value),setTimeout(()=>{m.push("/todo")},1e3)}catch(s){alert(`登入失敗：${s.response.data.message}`)}};return(s,t)=>{const g=v("RouterLink");return l(),n("div",k,[o("div",x,[y,o("div",null,[o("form",L,[V,I,c(o("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email","onUpdate:modelValue":t[0]||(t[0]=a=>e.value.email=a),requird:""},null,512),[[d,e.value.email]]),e.value.email?u("",!0):(l(),n("span",S,"此欄位不可留空")),T,c(o("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼","onUpdate:modelValue":t[1]||(t[1]=a=>e.value.password=a),required:""},null,512),[[d,e.value.password]]),e.value.password?u("",!0):(l(),n("span",D,"此欄位不可留空")),o("input",{class:"formControls_btnSubmit",type:"button",onClick:_,value:"登入"}),w(g,{to:"/signup"},{default:f(()=>[R]),_:1})])])])])}}};export{q as default};
